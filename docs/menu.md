# Menu

\mii\web\Menu облегчает создание и работу с обычными сайтовыми меню. 

Класс можно использовать различными способами:

### Получение массива меню
```php

$menu = new Menu(
[
         'name' => 'Пункт меню',
         'url' => '/menu_item_url'
     ],
     [
         'name' => 'Пункт меню',
         'url' => '/menu_item_url2'
     ]
]);

$list = $menu->as_array(); 

```

В $list будет массив аналогичный переданному в конструктор Menu, но в каждый элемент добавятся
ключи active и current. Первый показывает — является ли пункт меню активным. Второй — является ли пункт меню текущим.
По умолчанию это определяется по текущему адресу страницы. Current — значит адрес пункта меню точно соответствует текущему
адресу страницы. Active — значит часть адреса страницы соответствует адресу пункта меню.


### Вывод меню

В класс Menu можно сразу передать имя блока, который будет использован для оформления/вывода меню. 
 
 
```php
$menu = new Menu(
[
    [
         'name' => 'Пункт меню',
         'url' => '/menu_item_url'
    ],
    [
         'name' => 'Пункт меню',
         'url' => '/menu_item_url2'
    ]
], 'layout_menu');

echo $menu->render();
```

Данный код сформирует массив меню (аналогичный тому, что возвращает as_array), создаст блок layout_menu, передаст
ему переменную list с сформированным массивом, после чего отрендерит этот блок.
 

### Свои классы меню

Передавать исходный массив в конструктор класса не всегда удобно. Иногда сама логика формирования этого массива достаточно сложна
и загромождает контроллер (а ведь одно и тоже меню часто нужно использовать в разных местах). В таких случаях лучше создать свой класс
 меню, унаследованный от \mii\web\Menu.
 
Перед вызовом render() всегда вызывается публичный метод on_render(). Именно его очень удобно переопределять в своем классе. 

```php
class MyMenu extend \mii\web\Menu {

    public function on_render() {
        $this->items = []; // тут самостоятельно формируем массив
    }
}
```





